# ☕ 블랙업 원두 주문 관리 — 사용자 매뉴얼

> **Version 1.1** | 2026-02-16 (65R 시뮬레이션 결과 반영)
>
> 이 문서는 **로스터(관리자)**와 **매장 바리스타** 두 사용자 그룹을 위한 실무 가이드입니다.

---

## 📋 목차

- [Part 1: 로스터(관리자) 매뉴얼](#part-1-로스터관리자-매뉴얼)
- [Part 2: 매장 바리스타 가이드](#part-2-매장-바리스타-가이드)
- [Part 3: Product Lead 체크리스트](#part-3-product-lead-체크리스트)

---

# Part 1: 로스터(관리자) 매뉴얼

## 1.1 시작하기 전에

### 필요한 것

| # | 항목 | 설명 |
|---|------|------|
| 1 | **Antigravity** | Mac에 설치된 AI 코딩 에이전트 |
| 2 | **Google 계정** | 에이전트 전용 계정 권장. 개인 계정 사용 시 **Chrome 프로필 분리** 권장 ([1.7 참조](#17-chrome-프로필-분리-권장)) |
| 3 | **이 프로젝트 레포** | `antigravity_test/` 폴더가 워크스페이스로 열려 있어야 함 |
| 4 | **매장별 Google Sheets** | 각 매장이 주문을 입력하는 시트 (아래에서 만드는 법 설명) |

### 전체 구조 한눈에

```
당신(로스터) ←→ Antigravity ←→ 각 매장의 Google Sheets
                    ↓
              일일 리포트 생성
```

- 매장 바리스타가 Google Sheets에 주문 입력
- 로스터는 Antigravity에 "오늘 주문 정리해줘"라고 말함
- Antigravity가 10개 매장 시트를 순회하여 리포트 생성

---

## 1.2 최초 설정 (1회)

### Step 1: Google Sheets 만들기

각 매장별로 Google Sheets를 1개씩 만듭니다 (총 10개).

**시트 컬럼 설정** (13개):

| 순서 | 컬럼명 | 필수 | 입력 예시 |
|------|--------|------|----------|
| A | 주문일 | ✅ | 2026-02-15 |
| B | 매장코드 | ✅ | SM |
| C | 매장명 | ✅ | 서면본점 |
| D | 원두코드 | ✅ | ETH-YRG |
| E | 원두명 | ✅ | 에티오피아 예가체프 |
| F | 수량(kg) | ✅ | 5 |
| G | 배송희망일 | ✅ | 2026-02-17 |
| H | 로스팅단계 | | 미디엄 |
| I | 분쇄여부 | | 홀빈 |
| J | 긴급여부 | | Y / N |
| K | 비고 | | 포장 2.5kg씩 분리 |
| L | 주문자 | | 김철수 |
| M | 연락처 | | 010-1234-5678 |

> **팁**: 1행에 컬럼명을 넣고, 2행부터 데이터를 입력하세요.
>
> **⚠️ 마스터 템플릿 사용 권장**: 로스터가 제공하는 마스터 시트를 '사본 만들기'로 복제하면 컬럼 헤더 + 드롭다운 + 입력 가이드 탭이 자동으로 포함됩니다.

### Step 2: 매장 시트 URL 등록

**방법 A: 일괄 등록 (권장)**

```
"전체 매장 URL 등록"
```

에이전트가 10개 매장을 순서대로 물어보고, 각 매장의 시트 URL을 붙여넣으면 됩니다.

**방법 B: 개별 등록**

```
"서면본점 Sheets URL 등록해줘"
"해운대점 URL 등록해줘"
...
```

### Step 3: 매장에 시트 공유

각 Google Sheets를 해당 매장 바리스타에게 **편집** 권한으로 공유합니다.
에이전트가 사용할 Google 계정에도 **보기** 권한을 줍니다.

**권한 설정 체크리스트:**

| # | 점검 항목 | 완료 |
|---|---------|------|
| 1 | 바리스타에게 **편집자** 권한 부여 | ⬜ |
| 2 | 에이전트 계정에 **뷰어** 권한 부여 | ⬜ |
| 3 | 바리스타가 실제로 데이터 입력 가능한지 확인 | ⬜ |
| 4 | 에이전트가 시트 데이터 읽기 가능한지 확인 | ⬜ |

> **팁**: '링크가 있는 모든 사용자에게 편집 권한' 옵션을 쓰면 간편하지만, 보안이 다소 떨어집니다.

---

## 1.3 매일 사용법

### 기본: 오늘 주문 리포트

```
"오늘 주문 정리해줘"
```

이것만 하면 됩니다. 에이전트가 알아서:
1. settings.yaml 로드
2. 10개 매장 Sheets 순회 (3~5분 소요, 진행률 표시)
3. 데이터 추출 + 집계
4. 리포트 대화창 출력 + 파일 저장

### 특정 날짜

```
"2월 15일 주문 리포트 만들어줘"
"이번 주 주문 정리해줘"
"2/13~2/15 주문 합산해줘"
```

### 밀린 주문 (월요일 아침 등)

```
"밀린 주문 정리해줘"
```

에이전트가 마지막 리포트 이후의 주문을 자동으로 찾아 정리해줍니다.

### 특정 매장만

```
"서면본점하고 해운대만 주문 정리해줘"
```

### 과거 리포트 다시 보기

```
"어제 리포트 보여줘"
"2월 첫째 주 리포트"
```

---

## 1.4 설정 변경

**⚠️ 파일을 직접 편집하지 마세요.** 모든 변경은 대화로:

| 변경 사항 | 말하는 방법 |
|-----------|------------|
| 재고 입고 | "에티오피아 예가체프 20kg 들어왔어" |
| 신규 원두 추가 | "에티오피아 하라 원두 추가해줘, 코드는 ETH-HAR" |
| 매장 URL 변경 | "해운대점 Sheets URL 바꿔줘" |
| 원가 리포트 ON | "원가 리포트 켜줘" |
| 리드타임 변경 | "최소 리드타임 3일로 바꿔줘" |

에이전트가 변경 전 **미리보기**를 보여주고, 확인 후 적용합니다.

---

## 1.5 리포트 읽는 법

리포트는 3개 섹션으로 구성됩니다:

### 섹션 1: 일일 주문 요약

매장별로 몇 건, 몇 kg 주문했는지 한눈에 봅니다.

### 섹션 2: 원두+로스팅별 합산

`ETH-YRG 미디엄 35kg (SM 15, HD 10, YS 10)` — 로스팅 작업 계획의 핵심 데이터.
동일 원두라도 로스팅 단계가 다르면 별도로 표시됩니다.

### 섹션 3: 배송 스케줄

배송희망일 기준으로 정렬. 매장 주소 + 긴급 표시 포함.

### 경고 표시

| 아이콘 | 의미 | 어떻게 하면 되나 |
|--------|------|----------------|
| ❌ | 심각 — 데이터 오류 | 즉시 확인 필요 |
| ⚠️ | 주의 — 판단 필요 | 해당 매장에 연락 |
| ℹ️ | 참고 | 알아두면 됨 |

---

## 1.6 문제 해결

| 증상 | 원인 | 해결 |
|------|------|------|
| "시트 접근 불가" | 공유 설정 문제 | 해당 매장 시트에서 에이전트 계정에 보기 권한 부여 |
| 특정 매장 데이터 누락 | 바리스타가 입력 안 함 | "ℹ️ 해운대: 주문 없음" 표시됨 — 정상 |
| 수량 이상 경고 | 50kg 초과 입력 | 바리스타에게 확인 ("오타인가요?") |
| "YAML 오류" | settings 파일 손상 | 에이전트가 "백업에서 복원할까요?" 복원 요청 |

---

## 1.7 Chrome 프로필 분리 (권장)

에이전트 전용 Google 계정을 만들기 어려우면, **Chrome 프로필을 분리**하세요:

1. Chrome 오른쪽 상단 프로필 아이콘 클릭
2. "다른 프로필 추가" 선택
3. "계정 없이 계속"으로 에이전트 전용 프로필 생성
4. 이 프로필에서만 Google Sheets에 로그인

이렇게 하면 에이전트가 개인 탭의 정보에 접근하지 못합니다.

---

# Part 2: 매장 바리스타 가이드

## 2.1 당신의 역할

**Google Sheets에 주문을 입력하는 것**이 전부입니다.

- Antigravity를 설치할 필요 없음
- 코드를 작성할 필요 없음
- 리포트를 만들 필요 없음

로스터(관리자)가 공유한 Google Sheets를 열고, 주문을 입력하세요.

---

## 2.2 주문 입력 방법

### 시트 열기

로스터에게 받은 Google Sheets 링크를 열어 주문을 입력합니다.

### 한 줄 한 건

주문 1건 = 1행입니다.

**올바른 예시**:

| 주문일 | 매장코드 | 매장명 | 원두코드 | 원두명 | 수량(kg) | 배송희망일 |
|--------|---------|--------|---------|--------|---------|-----------|
| 2026-02-15 | SM | 서면본점 | ETH-YRG | 에티오피아 예가체프 | 5 | 2026-02-17 |
| 2026-02-15 | SM | 서면본점 | COL-SUP | 콜롬비아 수프리모 | 3 | 2026-02-18 |

### 필수 입력 (7개)

| 컬럼 | 주의사항 |
|------|---------|
| 주문일 | `YYYY-MM-DD` 형식 (예: 2026-02-15) |
| 매장코드 | 로스터에게 받은 2~3글자 코드 |
| 매장명 | 정확한 매장명 |
| 원두코드 | 로스터에게 받은 코드 (예: ETH-YRG) |
| 원두명 | 정확한 원두명 |
| 수량(kg) | 양의 숫자만 (0이나 음수 X) |
| 배송희망일 | 주문일 + 최소 2일 이상 |

### 선택 입력 (6개)

| 컬럼 | 설명 |
|------|------|
| 로스팅단계 | 라이트 / 미디엄 / 다크 (미입력 시 매장 기본값) |
| 분쇄여부 | 홀빈 / 분쇄 |
| 긴급여부 | Y (긴급) / N (일반) |
| 비고 | 특별 요청 사항 |
| 주문자 | 담당자 이름 |
| 연락처 | 담당자 연락처 |

> **중요**: 주문자/연락처는 **리포트에 표시되지 않습니다** (개인정보 보호). 원본 시트에서만 확인 가능.

---

## 2.3 자주 하는 실수

| ❌ 잘못된 예 | ✅ 올바른 예 | 이유 |
|-------------|------------|------|
| `2/15` | `2026-02-15` | 날짜 형식 오류 → 경고 발생 |
| 수량: `다섯` | 수량: `5` | 숫자만 입력 |
| 수량: `0` | 수량: `5` | 0kg 주문은 경고 발생 |
| 수량: `80` | 수량: `8` | 50kg 초과는 이상치 경고 (오타 의심) |
| 배송희망일: 내일 | 배송희망일: 모레 이후 | 최소 2일 리드타임 필요 |
| 배송희망일: 어제 | 배송희망일: 모레 이후 | **과거 날짜는 ❌ 심각 오류** |
| 원두코드 비움 | `ETH-YRG` | 필수 컬럼 누락 → ❌ 에러 |
| 수량: `5박스` | 수량: `5` | **kg 단위 숫자만** 입력 |
| 매장코드 오타 | 정확한 코드 | **다른 매장 코드 입력 시 ⚠️ 경고** |

> **⚠️ 시트 구조를 변경하지 마세요**: 컬럼 순서 변경, 컬럼 삭제/추가, 헤더 수정 등은 시스템 오류를 일으킵니다.

---

## 2.4 매장별 코드 참조표

로스터에게 받은 매장코드와 원두코드를 참고하세요:

### 매장코드

| 코드 | 매장 |
|------|------|
| RST | 로스터리 |
| SM | 서면본점 |
| HD | 해운대 |
| ESD | 을숙도 |
| LGR | 롯데광복 |
| YS | 양산 |
| GSW | 거제수월 |
| GH | 고현 |
| UOD | 울산옥동 |
| UHD | 울산현대백화점 |

### 원두코드

| 코드 | 원두명 |
|------|--------|
| ETH-YRG | 에티오피아 예가체프 |
| COL-SUP | 콜롬비아 수프리모 |
| BRA-SAN | 브라질 산토스 |

> 새 원두가 추가되면 로스터가 공지합니다.

---

# Part 3: Product Lead 체크리스트

## 3.1 출시 전 검증 항목

| # | 항목 | 대상 | 상태 |
|---|------|------|------|
| 1 | 로스터가 1인으로 최초 설정 완료 가능한가? | 로스터 | ⬜ |
| 2 | 바리스타가 시트 입력만으로 참여 가능한가? | 바리스타 | ⬜ |
| 3 | "오늘 주문 정리해줘" 한 마디로 실행되는가? | 로스터 | ⬜ |
| 4 | 리포트에 개인정보가 노출되지 않는가? | 보안 | ⬜ |
| 5 | 경고 메시지가 비전문가도 이해 가능한가? | UX | ⬜ |
| 6 | 에러 시 복구 방법이 명확한가? | UX | ⬜ |
| 7 | 설정 변경이 대화로만 가능한가? | UX | ⬜ |
| 8 | 10개 매장 동시 처리 시 안정적인가? | 성능 | ⬜ |

## 3.2 성공 지표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| 최초 설정 시간 | 30분 이내 | 로스터의 첫 리포트까지 소요 시간 |
| 일일 운영 시간 | 1분 이내 | "정리해줘" → 리포트 완성 |
| 바리스타 교육 시간 | 5분 이내 | 매뉴얼 읽고 첫 주문 입력까지 |
| 에러율 | 5% 미만 | 경고 없이 처리된 주문 비율 |
| 사용자 만족도 | 4.0/5.0 이상 | 로스터 + 바리스타 피드백 |
